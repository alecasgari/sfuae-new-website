<?php
// config.php
// این فایل برای تعریف متغیرهای پیکربندی سراسری مانند مسیر پایه استفاده می‌شود.

// --- تعریف مسیر پایه (Base Path) ---
// این بخش به صورت داینامیک مسیر صحیح را برای لینک‌دهی به منابع (CSS, JS, تصاویر)
// و صفحات داخلی، هم در محیط لوکال (مثلاً XAMPP در یک زیرپوشه) و هم در سرور زنده، تعیین می‌کند.

$base_path = '';
$project_subdirectory = '/sfuae-new-site'; // <<<<< بسیار مهم: نام زیرپوشه‌ای که پروژه شما در htdocs XAMPP در آن قرار دارد.

// بررسی اینکه آیا اسکریپت از طریق وب سرور اجرا می‌شود یا خیر
if (isset($_SERVER['SCRIPT_NAME']) && isset($_SERVER['SERVER_NAME'])) {
    $script_name = $_SERVER['SCRIPT_NAME']; // مثال: /sfuae-new-site/home.php یا /home.php در سرور زنده

    // بررسی اجرای لوکال در زیرپوشه
    if ($_SERVER['SERVER_NAME'] === 'localhost' && strpos($script_name, $project_subdirectory) === 0) {
        // ما در محیط لوکال XAMPP و داخل زیرپوشه پروژه هستیم
        $base_path = rtrim($project_subdirectory, '/') . '/';
    } else {
        // ما در سرور زنده یا سرور لوکال در ریشه هستیم (یا اسکریپت به روش دیگری اجرا شده)
        $base_path = '/';
    }
} else {
    // اگر اسکریپت از طریق خط فرمان یا روش دیگری اجرا شود که متغیرهای سرور در دسترس نیستند،
    // یک مسیر پیش‌فرض (معمولاً برای سرور زنده) در نظر می‌گیریم.
    // یا می‌توانید در اینجا یک خطا ایجاد کنید یا یک مقدار پیش‌فرض مناسب‌تر تنظیم کنید.
    $base_path = '/';
    // برای اطمینان بیشتر در محیط‌های غیر وب، می‌توانید اینگونه نیز عمل کنید:
    // die("خطا: این اسکریپت باید از طریق وب سرور اجرا شود تا مسیر پایه به درستی تعیین گردد.");
}

// --- سایر تنظیمات سراسری (در صورت نیاز در آینده) ---
// مثال:
// define('SITE_NAME', 'Spring Future');
// define('DEBUG_MODE', true); // برای حالت توسعه

?>
